<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>TEMPERATURE-HUMIDITY MONITORING WEB SYSTEM</title>
        <link rel="shortcut icon" href="./img/monitoring.png" type="image/x-icon" />
        <link rel="stylesheet" href="./styles.css" />
        <link rel="stylesheet" href="./dataTable.css" />
        <link
            rel="stylesheet"
            href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
        />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.umd.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/luxon@3.3.0/build/global/luxon.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1.3.1/dist/chartjs-adapter-luxon.umd.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-streaming@2.0.0/dist/chartjs-plugin-streaming.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/axios@1.3.4/dist/axios.min.js"></script>
        <script src="./scripts/mqttws31.min.js"></script>
    </head>

    <body style="background: #000; margin: 0">
        <div id="container">
            <header id="tieude">
                <a href="index.html" class="logo">
                    <img src="./svg/list.svg" alt="" class="svg-list" />
                    <!-- <div class="dropdown-content">
                    <a href="#">Live data</a>
                </div> -->
                    <b class="syno">SYNO<span style="font-size: 34px">PEX</span> </b>
                </a>
                <p id="myTime"></p>
                <span class="NameProject">TEMPERATURE-HUMIDITY MONITORING WEB SYSTEM</span>
            </header>

            <section id="wapper">
                <div style="background: rgb(255, 255, 255)">
                    <p class="temp"><b> Nhiệt độ </b></p>
                    <p class="hum"><b> Độ ẩm </b></p>
                </div>

                <div class="chartBox" style="border: #000000 1px solid">
                    <canvas id="myChart" width="960" height="188"></canvas>
                </div>

                <div class="chartBox1" style="border: #000000 1px solid">
                    <canvas id="myChart1" width="960" height="188"></canvas>
                </div>

                <iframe src="./svg/rect1940.svg" frameborder="0" id="left-wapper"></iframe>
            </section>

            <section id="footer">
                <span
                    style="
                        position: absolute;
                        left: 196px;
                        font-size: 17px;
                        text-transform: uppercase;
                        line-height: 20px;
                        top: 1px;
                        font-family: Time new roman;
                    "
                    >PROCESSING:</span
                >
                <input class="process" type="text" disabled />

                <span
                    style="
                        position: absolute;
                        left: 570px;
                        font-size: 17px;
                        text-transform: uppercase;
                        line-height: 20px;
                        top: 1px;
                        font-family: Time new roman;
                    "
                    >CONNECT:</span
                >
                <input id="connect" class="black green" type="text" disabled />

                <span
                    style="
                        position: absolute;
                        left: 760px;
                        font-size: 17px;
                        text-transform: uppercase;
                        line-height: 20px;
                        top: 1px;
                        font-family: Time new roman;
                    "
                    >HMI:</span
                >
                <input id="hmi" class="black green" type="text" disabled />

                <span
                    style="
                        position: absolute;
                        left: 990px;
                        font-size: 17px;
                        text-transform: uppercase;
                        line-height: 20px;
                        top: 1px;
                        font-family: Time new roman;
                    "
                    >TIME UPDATE DATA:</span
                >
                <input id="timedata" type="text" disabled />
            </section>
        </div>

        <script>
            var d = new Date();
            var m = d.getMonth() + 1;

            function Export() {
                $('#sheet0').table2excel({
                    filename: 'Dữ_liệu_nhiệt_độ_độ_ẩm' + '_tháng_' + m + '.xls',
                    preserveColors: true,
                });
            }

            setInterval(() => {
                timer();
            }, 1000);

            const timer = () => {
                document.getElementById('myTime').innerHTML = db.time;
                timedata.value = db.time;
            };
        </script>
        <script src="http://code.jquery.com/jquery-1.12.0.min.js"></script>
        <script src="./scripts/mqttws31.min.js"></script>
        <script src="./scripts/script.js" type="text/javascript"></script>
        <script src="./scripts/table2excel.js"></script>
    </body>
</html>
